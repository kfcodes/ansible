---
ansible_python_interpreter: /usr/bin/python3
system_timezone: "Europe/Dublin"

ssh_key_dir: "{{ lookup('env','HOME') }}/.ssh"
ssh_key_type: ed25519
ssh_key_comment: "Managed by Ansible"

# ----------------------------------------
# Connection targeting (fleet-wide default)
# ----------------------------------------
# Choose how Ansible should reach hosts by default:
# - "ip": use host_ip if present
# - "hostname": use system_hostname if present
connection_mode: "ip"

# Safe fallback order:
# 1) If connection_mode == "ip" and host_ip is set -> use host_ip
# 2) Else if system_hostname is set -> use system_hostname
# 3) Else -> fall back to inventory_hostname
ansible_host: >-
  {{
    host_ip if (connection_mode == 'ip' and host_ip is defined and host_ip|length > 0)
    else system_hostname if (system_hostname is defined and system_hostname|length > 0)
    else inventory_hostname
  }}
